<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Cajero</title>
	</head>
	<body>
		<h1>Caja</h1>
		<p>calcular el resto</p>
		<p>entre el billete mayor</p>
		<form action="#" id="form">
			<label for="cantidad">Introduce cantidad</label><br />
			<input type="number" name="cantidad" id="cantidad" /><br />
			<label for="total">Total a pagar</label><br />
			<input type="number" name="pagar" id="pagar" /><br />
			<input type="submit" id="calcular" value="calcular" />
		</form>

		<!--? RESTO --->
		<div id="resto"></div>
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

		<script>
			$("#calcular").click(function (e) {
				e.preventDefault();
				const valorCantidad = $("#cantidad").val();
                const decimalCantidad = Number.parseFloat(valorCantidad).toFixed(2);
				const cantidad = valorCantidad > 100;
				if (cantidad) {
					alert("No puede ser mayor que 100â‚¬");
					$("#cantidad").focus();
					return;
				}
				const totalPagar = $("#pagar").val();
				const decimalPagar = Number.parseFloat(totalPagar).toFixed(2);

				// const calcularResto = valorCantidad - totalPagar;
				const calcularResto = decimalCantidad - decimalPagar;
                
				const decimalResto = Number.parseFloat(calcularResto).toFixed(2);
				console.log("la restaaaaa " + decimalResto);
				// $("#resto").html(`${calcularResto}`);

				var restamosCantidad = 0;
				var resultadoRestoCantidad = 0;
				const ResultadoDelResto = calcularResto % 2 == 0;

				if (ResultadoDelResto) {
					if (calcularResto > 50) {
						$("#resto").append(`Devolver un billete de 50â‚¬<br>`);
						restamosCantidad = calcularResto - 50;
						resultadoRestoCantidad += restamosCantidad;
						restamosCantidad = 0;
						console.log("ðŸš€ ~ file: cajero.html ~ line 49 ~ resultadoRestoCantidad", resultadoRestoCantidad);
					}
					console.log("total " + resultadoRestoCantidad);
					console.log("resta queda " + restamosCantidad);
					if (resultadoRestoCantidad >= 20) {
						$("#resto").append(`Devolver un billete de 20â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 20;
						console.log("vamos a ver " + restamosCantidad);
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
						console.log("segunda " + resultadoRestoCantidad);
					}
					console.log("total " + resultadoRestoCantidad);
					console.log("resta queda " + restamosCantidad);
					if (resultadoRestoCantidad >= 10) {
						$("#resto").append(`Devolver un billete de 10â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 10;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
					}
					if (resultadoRestoCantidad >= 5) {
						$("#resto").append(`Devolver un billete de 5â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 5;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
					}
					if (resultadoRestoCantidad >= 2) {
						$("#resto").append(`Devolver un billete de 2â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 2;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
					}
					if (resultadoRestoCantidad >= 1) {
						$("#resto").append(`Devolver un billete de 1â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 1;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
					}
				}
				if (!ResultadoDelResto) {
					if (calcularResto > 50) {
						$("#resto").append(`Devolver un billete de 50â‚¬<br>`);
						restamosCantidad = calcularResto - 50;
						resultadoRestoCantidad += restamosCantidad;
						restamosCantidad = 0;
					}
					if (resultadoRestoCantidad >= 20) {
						$("#resto").append(`Devolver un billete de 20â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 20;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
					}
					if (resultadoRestoCantidad >= 10) {
						$("#resto").append(`Devolver un billete de 10â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 10;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
						console.log("estoooo1 " + resultadoRestoCantidad);
					}

					if (resultadoRestoCantidad >= 5) {
						$("#resto").append(`Devolver un billete de 5â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 5;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
						console.log("estoooo2 " + resultadoRestoCantidad);
					}
					if (resultadoRestoCantidad >= 2) {
						$("#resto").append(`Devolver un billete de 2â‚¬<br>`);
						console.log("estoooo3 " + resultadoRestoCantidad);
						restamosCantidad = resultadoRestoCantidad - 2;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
					}
					if (resultadoRestoCantidad >= 1) {
						$("#resto").append(`Devolver un billete de 1â‚¬<br>`);
						restamosCantidad = resultadoRestoCantidad - 1;
						resultadoRestoCantidad = restamosCantidad;
						restamosCantidad = 0;
					}
				}
			});
		</script>
	</body>
</html>
